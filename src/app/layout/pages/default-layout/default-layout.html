<article class="flex relative min-h-screen bg-[#121212] text-white">
  @if (isInitializing) {
  <div class="flex flex-col items-center justify-center w-full h-screen gap-3">
    <mat-spinner diameter="50"></mat-spinner>
    <p class="text-gray-400 text-sm">Cargando...</p>
  </div>
  } @else if (!isReady) {
  <div class="flex flex-col items-center justify-center w-full h-screen gap-3">
    <mat-spinner diameter="50"></mat-spinner>
    <p class="text-gray-400 text-sm">Cargando sesi√≥n...</p>
  </div>
  } @else { @if (!isLoggedIn) {
  <div class="app-container w-full animate-fade-in">
    <app-nav-bar class="brand-nav-bar"></app-nav-bar>
    <main class="main w-full">
      <router-outlet></router-outlet>
    </main>
  </div>
  } @else { @if (showSidebar && hasValidRole) {
  <app-side-bar></app-side-bar>
  }
  <div class="app-container w-full animate-fade-in">
    <button
      class="notification-button rounded-full px-4 py-3"
      (click)="toggleNotifications()"
      [class.active]="showNotifications"
    >
      <mat-icon>notifications</mat-icon>
    </button>

    @if (showNotifications) {
    <div
      class="notification-overlay"
      [class.closing]="isClosingNotifications"
      (click)="closeNotifications()"
    ></div>
    <div
      class="notification-panel w-[95%] md:w-[95%] lg:w-[95%] 2xl:w-[50%] 3xl:w-[50%] min-h-9"
      [class.closing]="isClosingNotifications"
    >
      <app-notification></app-notification>
    </div>
    }

    <main class="main w-full">
      <router-outlet></router-outlet>
    </main>
  </div>
  } }
</article>
